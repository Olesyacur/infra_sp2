# Проект api_yamdb
### Описание
Проект YaMDb собирает отзывы пользователей на произведения. 

_Благодаря этому проекту можно:_
- оставлять к произведениям текстовые отзывы 
- ставить произведению оценку
- комментировать отзывы других пользователей
- получить список всех произведений, категорий, жанров, комментариев, отзывов

### Шаблон наполнения env-файла
DB_ENGINE= # указываем базу данных, с которой будем работать
DB_NAME= # имя базы данных
POSTGRES_USER= # логин для подключения к базе данных
POSTGRES_PASSWORD= # пароль для подключения к БД (установите свой)
DB_HOST= # название сервиса (контейнера)
DB_PORT= # порт для подключения к БД 

### Установка
Для развертывания проекта используется виртуальная среда Docker и
Docker-compose. Docker "упаковывает" приложение и все его зависимости в
контейнер и может быть перенесен при использовании на месте ОС Linux. Docker-compose это инструмент для запуска многоконтейнерных приложений.

#### Запускаем команду создания директории внутри контейнера
```RUN mkdir /app```
#### Копируем с локального компьютера файл зависимостей в директорию /app.
```COPY requirements.txt /app```
#### Выполняем установку зависимостей внутри контейнера.
```RUN pip3 install -r /app/requirements.txt --no-cache-dir```
#### Копируем содержимое директории /api_yamdb c локального компьютера в директорию /app.
```COPY api_yamdb/ /app```
#### Делаем директорию /app рабочей директорией. 
```WORKDIR /app```
#### Выполняем запуск сервера разработки при старте контейнера.
```CMD ["gunicorn", "api_yamdb.wsgi:application", "--bind", "0:8000"]```

### Описание команд для заполнения базы данными.
Выполняем миграции
```docker-compose exec web python manage.py migrate```
Создаем суперпользователя
```docker-compose exec web python manage.py createsuperuser```
Собираем статику со всего проекта
```docker-compose exec web python manage.py collectstatic --no-input```
Для создания дампа данных из БД
```docker-compose exec web python manage.py dumpdata > dump.json```
